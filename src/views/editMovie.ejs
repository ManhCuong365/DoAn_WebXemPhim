<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8">
  <title>Edit Movie</title>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/add_movie.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@latest/tabler-icons.min.css">
</head>

<body>
  <div class="container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="logo">MOVIE
        <span style="color: #ffbe00;">ZONE</span>
      </div>
      <div style="margin-left: 0;" class="side_bar1">
        <div style="display: flex; align-items: center; gap: 12px; padding: 16px 0; padding-left: 20px;">
          <span class="icon_admin">
            <i class="ti ti-user"></i>
          </span>
          <div class="icon_admin1">
            <div class="title_admin">Admin</div>
            <div class="name_admin">ManhCuong</div>
          </div>
        </div>
      </div>
      <nav class="nav">
        <ul>
          <li class="side_bar">
            <a href="/dashboard">
              <i class="fa-solid fa-table-cells-large"></i>
              <span>DASHBOARD</span>
            </a>
          </li>
          <li class="side_bar">
            <a style="color: #ffbe00;" href="/displayMovie">
              <i class="fa-solid fa-film"></i>
              <span>MOVIE</span>
            </a>
          </li>
          <li class="side_bar">
            <a href="#">
              <i class="fa-solid fa-user-tie"></i>
              <span>DIRECTOR</span>
            </a>
          </li>
          <li class="side_bar">
            <a href="#">
              <i class="fa-solid fa-users"></i>
              <span>ACTOR</span>
            </a>
          </li>
          <li class="side_bar active">
            <a href="/get-crud">
              <i class="fa-solid fa-user"></i>
              <span>USER</span>
            </a>
          </li>
          <li class="side_bar">
            <a href="/displayComment">
              <i class="fa-solid fa-tags"></i>
              <span>COMMENT</span>
            </a>
          </li>
          <li class="side_bar"><a href="/">
              <i class="fa-solid fa-arrow-left"></i>
              <span>BACK TO SITE</span>
            </a></li>
        </ul>
      </nav>
    </aside>

    <!-- Main -->
    <main class="main-content">
      <header class="main-header">
        <div class="actions">
          <p style="color: white;">Edit Movies</p>
        </div>
        <div style="padding: 10px;" class="actions">
          <a href="/displayMovie" class="btn">BACK</a>
        </div>
      </header>
      <div style="padding: 20px;" class="content-wrapper">
        <form action="/put-movie" method="post" enctype="multipart/form-data">
          <input type="hidden" name="id" value="<%= movie.id %>">
          <div style="display: flex; gap: 16px;">
            <input name="title" type="text" class="form-input" placeholder="Title" style="flex:2;"
              value="<%= movie.title %>" required>
            <input name="rating" type="text" class="form-input" placeholder="Rating" style="flex:1;"
              value="<%= movie.rating %>" required>
            <input name="year" type="text" class="form-input" placeholder="Year" style="flex:1;"
              value="<%= movie.year %>" required>
          </div>

          <div style="display: flex; gap: 16px; margin-top: 16px;">
            <textarea name="description" class="form-input" placeholder="Description"
              style="flex:2;"><%= movie.description %></textarea>
            <input name="category" type="text" class="form-input" placeholder="Category" style="flex:1;"
              value="<%= movie.category %>" required>
          </div>

          <div style="display: flex; gap: 16px; margin-top: 16px;">
            <div class="upload-area" style="flex:1;" onclick="document.getElementById('coverInput').click()">
              <i class="fa-solid fa-cloud-arrow-up"></i>
              <span>Upload cover</span>
              <input name="imgFile" id="coverInput" type="file" accept="image/*" style="display:none;">
            </div>
            <input name="imgUrl" type="text" class="form-input" placeholder="Link to the background (1920x1280)"
              style="flex:2;" value="<%= movie.img %>">
          </div>

          <div style="display: flex; gap: 16px; margin-top: 16px;">
            <input name="actors" type="text" class="form-input" placeholder="Actors" style="flex:1;"
              value="<%= movie.actors %>">
            <input name="director" type="text" class="form-input" placeholder="Director" style="flex:1;"
              value="<%= movie.director %>">
            <div class="custom-select" style="flex:1;">
              <select name="status" class="form-input">
                <option value="active" <%=movie.status==='active' ? 'selected' : '' %>>Active</option>
                <option value="inactive" <%=movie.status==='inactive' ? 'selected' : '' %>>Inactive</option>
              </select>
              <i class="fa-solid fa-chevron-down"></i>
            </div>
          </div>

          <div style="margin-top: 16px;">
            <div class="upload-area" onclick="document.getElementById('videoInput').click()">
              <i class="fa-solid fa-video"></i>
              <span>Upload video</span>
              <input name="videoUrl" id="videoInput" type="file" accept="video/*" style="display:none;">
            </div>
          </div>

          <div class="form-actions">
            <button type="submit" class="publish-btn">UPDATE</button>
          </div>
        </form>
      </div>
    </main>
  </div>
</body>

</html>